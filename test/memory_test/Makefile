NVFLAGS=-arch sm_35

MEMCPY_TRUNK_WITH_BUF=memcpy_trunk_with_buf
MEMCPY_TRUNK_WITHOUT_BUF=memcpy_trunk_without_buf

all: $(MMUL_GPU)

$(MEMCPY_TRUNK_WITH_BUF): $(MEMCPY_TRUNK_WITH_BUF).cu
	nvcc $(NVFLAGS) --cudart=shared $(MEMCPY_TRUNK_WITH_BUF).cu -o $(MEMCPY_TRUNK_WITH_BUF)

$(MEMCPY_TRUNK_WITHOUT_BUF): $(MEMCPY_TRUNK_WITHOUT_BUF).cu
	nvcc $(NVFLAGS) --cudart=shared $(MEMCPY_TRUNK_WITHOUT_BUF).cu -o $(MEMCPY_TRUNK_WITHOUT_BUF)

clean:
	rm -f $(MEMCPY) $(MEMCPY_TRUNK_WITH_BUF) $(MEMCPY_TRUNK_WITHOUT_BUF)

